# 🏠 租房信息爬虫使用说明

## 功能特点

### 🎯 爬取数据
- **房源标题** - 房屋描述
- **价格信息** - 月租金
- **面积大小** - 房屋面积
- **位置信息** - 具体地址
- **房源详情** - 房屋配置信息
- **来源网站** - 数据来源

### 📊 数据分析
- **价格统计** - 平均、最高、最低价格
- **价格区间** - 不同价格段的房源分布
- **来源统计** - 各网站房源数量
- **性价比推荐** - 按条件筛选优质房源

### 💾 数据保存
- **Excel格式** - 便于查看和分析
- **JSON格式** - 便于程序处理
- **自动排序** - 按价格从低到高

## 使用方法

### 1. 安装依赖
```bash
pip3 install requests beautifulsoup4 pandas openpyxl
```

### 2. 运行爬虫
```bash
python3 rental_crawler.py
```

### 3. 查看结果
- 控制台显示爬取进度和分析结果
- 生成 `rental_data.xlsx` 文件
- 自动推荐性价比高的房源

## 支持的网站

### 🏢 58同城
- URL: https://cq.58.com/chuzu/sha-ping-ba-qu/
- 数据丰富，房源信息详细
- 价格相对真实

### 🏢 赶集网
- URL: https://cq.ganji.com/fang1/
- 个人房源较多
- 价格相对便宜

### 🏢 链家
- URL: https://cq.lianjia.com/zufang/sha-ping-ba-qu/
- 房源质量较高
- 信息相对准确

### 🏢 贝壳找房
- URL: https://cq.ke.com/zufang/sha-ping-ba-qu/
- 房源信息全面
- 价格透明度高

### 🏢 安居客
- URL: https://cq.anjuke.com/
- 房源种类丰富
- 价格区间广泛

## 自定义配置

### 修改爬取参数
```python
# 在 main() 函数中修改
crawler.crawl_58('重庆', '沙坪坝区', 3)  # 城市, 区域, 页数
crawler.crawl_ganji('重庆', '沙坪坝区', 3)
crawler.crawl_lianjia('重庆', '沙坪坝区', 3)
crawler.crawl_beike('重庆', '沙坪坝区', 3)
crawler.crawl_anjuke('重庆', '沙坪坝区', 3)

# 修改性价比筛选条件（重庆价格相对较低）
crawler.find_best_deals(max_price=3000, min_area=40)  # 最高价格, 最小面积
```

### 添加新的网站
```python
def crawl_new_site(self, city='北京', page_count=3):
    """爬取新网站"""
    for page in range(1, page_count + 1):
        url = f"https://new-site.com/rent/page{page}/"
        # 实现爬取逻辑...
```

## 数据分析功能

### 价格分析
- 计算平均价格
- 找出最高/最低价格
- 价格区间分布统计

### 性价比推荐
- 按价格筛选
- 按面积筛选
- 自动排序推荐

### 来源统计
- 各网站房源数量
- 数据质量对比

## 注意事项

### ⚠️ 使用建议
1. **合理设置爬取页数** - 避免对网站造成压力
2. **添加请求延迟** - 避免被反爬虫机制拦截
3. **遵守网站规则** - 仅用于学习研究
4. **数据仅供参考** - 实际租房需要实地看房

### 🔧 故障排除
- **网络连接问题** - 检查网络连接
- **网站结构变化** - 更新CSS选择器
- **反爬虫限制** - 增加请求延迟或更换User-Agent

## 扩展功能

### 可以添加的功能
- **地图可视化** - 在地图上显示房源位置
- **价格趋势分析** - 分析房价变化趋势
- **多城市支持** - 支持更多城市
- **实时监控** - 监控新上架房源
- **邮件通知** - 发现合适房源时发送邮件

### 技术改进
- **异步爬取** - 提高爬取效率
- **数据库存储** - 使用SQLite或MySQL
- **Web界面** - 创建简单的Web展示界面
- **API接口** - 提供数据查询API

## 法律声明

⚠️ **仅供学习研究使用**
- 请遵守网站的使用条款
- 不要用于商业用途
- 尊重网站的robots.txt规则
- 合理控制爬取频率

---

**祝你找到心仪的房源！** 🏠✨ 